{% extends "base.html" %}
{% block content %}
  <!-- Back to profile button at the top -->
  <div class="mb-20">
    <a href="{% url 'profile' %}" class="back-to-list-btn">‚Üê Back to Profile</a>
  </div>

  <div class="edit-profile-container">
    <div class="edit-section">
      <h3 style="margin: 0 0 25px 0; font-size: 18px;">Change Your Password</h3>
      <form method="post">
        {% csrf_token %}
        
        <div class="form-group" style="margin-bottom: 20px;">
          <label class="form-label" style="font-size: 14px; margin-bottom: 8px;">Current Password</label>
          {{ form.old_password }}
        </div>
        
        <div class="form-group" style="margin-bottom: 20px;">
          <label class="form-label" style="font-size: 14px; margin-bottom: 8px;">New Password</label>
          {{ form.new_password1 }}
        </div>
        
        <div class="form-group" style="margin-bottom: 20px;">
          <label class="form-label" style="font-size: 14px; margin-bottom: 8px;">Confirm New Password</label>
          {{ form.new_password2 }}
        </div>
        
        {% if form.errors %}
          <div style="background-color: #f8d7da; border-left: 4px solid #dc3545; color: #721c24; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
            {% for field, errors in form.errors.items %}
              {% for error in errors %}
                <p style="margin: 0;">{{ error }}</p>
              {% endfor %}
            {% endfor %}
          </div>
        {% endif %}
        
        <button type="submit" class="review-submit-btn" style="width: 100%;">Change Password</button>
      </form>
    </div>
  </div>

  <style>
    /* Style the password form inputs to match the design */
    #id_old_password,
    #id_new_password1,
    #id_new_password2 {
      width: 100%;
      padding: 10px;
      border: 2px solid #e5e5e5;
      border-radius: 10px;
      font-size: 14px;
      transition: border-color 0.3s;
      font-family: 'Inter', sans-serif;
    }
    
    #id_old_password:focus,
    #id_new_password1:focus,
    #id_new_password2:focus {
      outline: none;
      border-color: #6F4E37;
    }
  </style>
{% endblock %}